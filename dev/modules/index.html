<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modules and Revise · JuliaNotes.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="JuliaNotes.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">JuliaNotes.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../fastrepl/">Cool and fast REPL</a></li><li><a class="tocitem" href="../workflow/">Development workflow</a></li><li class="is-active"><a class="tocitem" href>Modules and Revise</a></li><li><a class="tocitem" href="../loopscopes/">Scope of loops</a></li><li><a class="tocitem" href="../benchmark/">Benchmark</a></li><li><a class="tocitem" href="../assignment/">Assignment and mutation</a></li><li><a class="tocitem" href="../instability/">Type instability</a></li><li><a class="tocitem" href="../anonymous/">Anonymous functions</a></li><li><a class="tocitem" href="../memory/">Tracking allocations</a></li><li><a class="tocitem" href="../immutable/">Mutability</a></li><li><a class="tocitem" href="../nomethod/">ERROR: No method...</a></li><li><a class="tocitem" href="../typevariance/">Vector{Int} &lt;: Vector{Real} is false???</a></li><li><a class="tocitem" href="../figures/">Figures and LaTeX</a></li><li><a class="tocitem" href="../new_package/">Create new package</a></li><li><a class="tocitem" href="../publish_docs/">Publish Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Modules and Revise</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Modules and Revise</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/m3g/JuliaNotes.jl/blob/main/docs/src/modules.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Modules-and-Revise"><a class="docs-heading-anchor" href="#Modules-and-Revise">Modules and Revise</a><a id="Modules-and-Revise-1"></a><a class="docs-heading-anchor-permalink" href="#Modules-and-Revise" title="Permalink"></a></h1><p>The most practical way to develop code in Julia, particularly when the code becomes more complex, is to write <code>modules</code> and use the <code>Revise</code> package.</p><p>To install the <code>Revise</code> package, do:</p><pre><code class="language-julia hljs">julia&gt; ] add Revise</code></pre><p>The workflow is, then:</p><h3 id="Create-a-function"><a class="docs-heading-anchor" href="#Create-a-function">Create a function</a><a id="Create-a-function-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-function" title="Permalink"></a></h3><p>Create a file with a function, for example: <code>f.jl</code></p><pre><code class="language-julia hljs">function f(x)
    y = 2*x
    return y
end</code></pre><h3 id="Create-a-module"><a class="docs-heading-anchor" href="#Create-a-module">Create a module</a><a id="Create-a-module-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-module" title="Permalink"></a></h3><p>Create a file called, for example, <code>MyModule.jl</code>, in which you define a module of the same name. Include the files with your function definitions in this module:</p><pre><code class="language-julia hljs">module MyModule
    export f
    include(&quot;./f.jl&quot;)  
end</code></pre><p>The <code>export f</code> command makes the <code>f</code> function visible from outside the module. That is, later when you load the module with <code>using MyModule</code> you will be able to directly call <code>f(x)</code> instead of having to type <code>MyModule.f(1)</code>. Exporting or not functions is optional.</p><h3 id="Develop-using-Revise"><a class="docs-heading-anchor" href="#Develop-using-Revise">Develop using <code>Revise</code></a><a id="Develop-using-Revise-1"></a><a class="docs-heading-anchor-permalink" href="#Develop-using-Revise" title="Permalink"></a></h3><p>Now, start Julia and load the module with the following commands:</p><pre><code class="language-julia hljs">using Revise
push!(LOAD_PATH,&quot;/path/to/MyModule&quot;)
using MyModule</code></pre><p>(it is a good idea to put these commands in a file, lets say <code>devel.jl</code>, to load it with <code>julia -i devel.jl</code> every time you start a development section). </p><p>This will load the module with its functions. Since the module was loaded after <code>Revise</code>, the changes to the files included in that module will be tracked and updated automatically. </p><p>That means that:</p><pre><code class="language-julia hljs">julia&gt; using Revise

julia&gt; push!(LOAD_PATH,&quot;/path/to/MyModule&quot;)

julia&gt; using MyModule

julia&gt; f(1)
2</code></pre><p>Now, if I modify the file <code>f.jl</code> such that the function multiplies the value of <code>x</code> by 5, and save it, we have:</p><pre><code class="language-julia hljs">julia&gt; f(1)
5
</code></pre><p>Thus, the REPL section can be kept open and I can change and modify my package functions without having to load all the packages all the time.  The only situation, for now, that will require the restart of Julia is the redefinition of a <code>struct</code>, which for complicated reasons <code>Revise</code> is not able to track appropriately and update the state of the Julia section. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../workflow/">« Development workflow</a><a class="docs-footer-nextpage" href="../loopscopes/">Scope of loops »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 8 September 2023 14:50">Friday 8 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
